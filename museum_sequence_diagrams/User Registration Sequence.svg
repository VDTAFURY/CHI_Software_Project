<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1649px" preserveAspectRatio="none" style="width:1797px;height:1649px;background:#FFFFFF;" version="1.1" viewBox="0 0 1797 1649" width="1797px" zoomAndPan="magnify"><title>**User Registration Process**</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="204.6406" x="797.4956" y="27.9951">User Registration Process</text><g><title>Registration</title><rect fill="#FFFFFF" height="1378.3828" style="stroke:#181818;stroke-width:1;" width="10" x="249.8198" y="179.9922"/></g><g><title>Validator</title><rect fill="#FFFFFF" height="197.6641" style="stroke:#181818;stroke-width:1;" width="10" x="480.4595" y="209.125"/></g><g><title>Security</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1;" width="10" x="694.8535" y="733.9922"/></g><g><title>User</title><rect fill="#FFFFFF" height="102.5313" style="stroke:#181818;stroke-width:1;" width="10" x="874.4434" y="519.125"/></g><g><title>User</title><rect fill="#FFFFFF" height="178.1953" style="stroke:#181818;stroke-width:1;" width="10" x="874.4434" y="879.7891"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1103.604" y="563.3906"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1103.604" y="999.7188"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1103.604" y="1218.9141"/></g><g><title>Token</title><rect fill="#FFFFFF" height="190.0625" style="stroke:#181818;stroke-width:1;" width="10" x="1357.8125" y="1087.1172"/></g><g><title>Email</title><rect fill="#FFFFFF" height="170.6641" style="stroke:#181818;stroke-width:1;" width="10" x="1562.0313" y="1321.4453"/></g><rect fill="none" height="1129.5859" style="stroke:#000000;stroke-width:1.5;" width="1780.6318" x="10" y="421.7891"/><rect fill="none" height="907.7188" style="stroke:#000000;stroke-width:1.5;" width="1760.6318" x="20" y="636.6563"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1449.7813" width="8" x="44.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="48" x2="48" y1="118.5938" y2="1568.375"/></g><g><title>Registration</title><rect fill="#000000" fill-opacity="0.00000" height="1449.7813" width="8" x="250.8198" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="254.2935" x2="254.2935" y1="118.5938" y2="1568.375"/></g><g><title>Validator</title><rect fill="#000000" fill-opacity="0.00000" height="1449.7813" width="8" x="481.4595" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="484.8535" x2="484.8535" y1="118.5938" y2="1568.375"/></g><g><title>Security</title><rect fill="#000000" fill-opacity="0.00000" height="1449.7813" width="8" x="695.8535" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="699.1084" x2="699.1084" y1="118.5938" y2="1568.375"/></g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1449.7813" width="8" x="875.4434" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="879.4263" x2="879.4263" y1="118.5938" y2="1568.375"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="1449.7813" width="8" x="1104.604" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1108.2036" x2="1108.2036" y1="118.5938" y2="1568.375"/></g><g><title>Token</title><rect fill="#000000" fill-opacity="0.00000" height="1449.7813" width="8" x="1358.8125" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1362.2656" x2="1362.2656" y1="118.5938" y2="1568.375"/></g><g><title>Email</title><rect fill="#000000" fill-opacity="0.00000" height="1449.7813" width="8" x="1563.0313" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1566.1606" x2="1566.1606" y1="118.5938" y2="1568.375"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="30" y="115.292">User</text><ellipse cx="48.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.9551,58.7969 L48.9551,85.7969 M35.9551,66.7969 L61.9551,66.7969 M48.9551,85.7969 L35.9551,100.7969 M48.9551,85.7969 L61.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="30" y="1580.3701">User</text><ellipse cx="48.9551" cy="1592.1719" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.9551,1600.1719 L48.9551,1627.1719 M35.9551,1608.1719 L61.9551,1608.1719 M48.9551,1627.1719 L35.9551,1642.1719 M48.9551,1627.1719 L61.9551,1642.1719" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="RegCtrl"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.0527" x="205.2935" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0527" x="212.2935" y="90.9951">Registration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.1729" x="220.2334" y="107.292">Controller</text></g><g class="participant participant-tail" data-participant="RegCtrl"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.0527" x="205.2935" y="1567.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0527" x="212.2935" y="1587.3701">Registration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.1729" x="220.2334" y="1603.667">Controller</text></g><g class="participant participant-head" data-participant="Valid"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.2119" x="446.8535" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.2119" x="453.8535" y="107.292">Validator</text></g><g class="participant participant-tail" data-participant="Valid"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.2119" x="446.8535" y="1567.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.2119" x="453.8535" y="1587.3701">Validator</text></g><g class="participant participant-head" data-participant="Sec"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.4902" x="664.1084" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.4902" x="671.1084" y="107.292">Security</text></g><g class="participant participant-tail" data-participant="Sec"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.4902" x="664.1084" y="1567.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.4902" x="671.1084" y="1587.3701">Security</text></g><g class="participant participant-head" data-participant="UserModel"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56.0342" x="851.4263" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="863.4883" y="90.9951">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0342" x="858.4263" y="107.292">Model</text></g><g class="participant participant-tail" data-participant="UserModel"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56.0342" x="851.4263" y="1567.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="863.4883" y="1587.3701">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.0342" x="858.4263" y="1603.667">Model</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="1068.2036" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="1075.2036" y="107.292">Database</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="1068.2036" y="1567.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="1075.2036" y="1587.3701">Database</text></g><g class="participant participant-head" data-participant="Token"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.0938" x="1320.2656" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.7109" x="1341.457" y="90.9951">Token</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.0938" x="1327.2656" y="107.292">Generator</text></g><g class="participant participant-tail" data-participant="Token"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.0938" x="1320.2656" y="1567.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.7109" x="1341.457" y="1587.3701">Token</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.0938" x="1327.2656" y="1603.667">Generator</text></g><g class="participant participant-head" data-participant="Email"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.7412" x="1534.1606" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8418" x="1547.6104" y="90.9951">Email</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="1541.1606" y="107.292">Service</text></g><g class="participant participant-tail" data-participant="Email"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.7412" x="1534.1606" y="1567.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8418" x="1547.6104" y="1587.3701">Email</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="1541.1606" y="1603.667">Service</text></g><g><title>Registration</title><rect fill="#FFFFFF" height="1378.3828" style="stroke:#181818;stroke-width:1;" width="10" x="249.8198" y="179.9922"/></g><g><title>Validator</title><rect fill="#FFFFFF" height="197.6641" style="stroke:#181818;stroke-width:1;" width="10" x="480.4595" y="209.125"/></g><g><title>Security</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1;" width="10" x="694.8535" y="733.9922"/></g><g><title>User</title><rect fill="#FFFFFF" height="102.5313" style="stroke:#181818;stroke-width:1;" width="10" x="874.4434" y="519.125"/></g><g><title>User</title><rect fill="#FFFFFF" height="178.1953" style="stroke:#181818;stroke-width:1;" width="10" x="874.4434" y="879.7891"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1103.604" y="563.3906"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1103.604" y="999.7188"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1103.604" y="1218.9141"/></g><g><title>Token</title><rect fill="#FFFFFF" height="190.0625" style="stroke:#181818;stroke-width:1;" width="10" x="1357.8125" y="1087.1172"/></g><g><title>Email</title><rect fill="#FFFFFF" height="170.6641" style="stroke:#181818;stroke-width:1;" width="10" x="1562.0313" y="1321.4453"/></g><g class="message" data-participant-1="User" data-participant-2="RegCtrl"><polygon fill="#181818" points="237.8198,175.9922,247.8198,179.9922,237.8198,183.9922,241.8198,179.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.9551" x2="243.8198" y1="179.9922" y2="179.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.1255" x="68.3247" y="144.6606">submitRegistrationForm(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.8521" x="60.9614" y="159.7935">email, password, fullName,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.3286" x="61.7231" y="174.9263">phoneNumber, nationality)</text></g><g class="message" data-participant-1="RegCtrl" data-participant-2="Valid"><polygon fill="#181818" points="468.4595,205.125,478.4595,209.125,468.4595,213.125,472.4595,209.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="259.8198" x2="474.4595" y1="209.125" y2="209.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.6396" x="269.3198" y="204.0591">validateRegistrationData(data)</text></g><g class="message" data-participant-1="Valid" data-participant-2="Valid"><line style="stroke:#181818;stroke-width:1;" x1="490.4595" x2="532.4595" y1="238.2578" y2="238.2578"/><line style="stroke:#181818;stroke-width:1;" x1="532.4595" x2="532.4595" y1="238.2578" y2="251.2578"/><line style="stroke:#181818;stroke-width:1;" x1="491.4595" x2="532.4595" y1="251.2578" y2="251.2578"/><polygon fill="#181818" points="501.4595,247.2578,491.4595,251.2578,501.4595,255.2578,497.4595,251.2578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.6567" x="497.4595" y="233.1919">checkRequiredFields()</text></g><g class="message" data-participant-1="Valid" data-participant-2="Valid"><line style="stroke:#181818;stroke-width:1;" x1="490.4595" x2="532.4595" y1="280.3906" y2="280.3906"/><line style="stroke:#181818;stroke-width:1;" x1="532.4595" x2="532.4595" y1="280.3906" y2="293.3906"/><line style="stroke:#181818;stroke-width:1;" x1="491.4595" x2="532.4595" y1="293.3906" y2="293.3906"/><polygon fill="#181818" points="501.4595,289.3906,491.4595,293.3906,501.4595,297.3906,497.4595,293.3906" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.9106" x="497.4595" y="275.3247">validateEmailFormat()</text></g><g class="message" data-participant-1="Valid" data-participant-2="Valid"><line style="stroke:#181818;stroke-width:1;" x1="490.4595" x2="532.4595" y1="322.5234" y2="322.5234"/><line style="stroke:#181818;stroke-width:1;" x1="532.4595" x2="532.4595" y1="322.5234" y2="335.5234"/><line style="stroke:#181818;stroke-width:1;" x1="491.4595" x2="532.4595" y1="335.5234" y2="335.5234"/><polygon fill="#181818" points="501.4595,331.5234,491.4595,335.5234,501.4595,339.5234,497.4595,335.5234" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.394" x="497.4595" y="317.4575">validatePasswordStrength()</text></g><g class="message" data-participant-1="Valid" data-participant-2="Valid"><line style="stroke:#181818;stroke-width:1;" x1="490.4595" x2="532.4595" y1="364.6563" y2="364.6563"/><line style="stroke:#181818;stroke-width:1;" x1="532.4595" x2="532.4595" y1="364.6563" y2="377.6563"/><line style="stroke:#181818;stroke-width:1;" x1="491.4595" x2="532.4595" y1="377.6563" y2="377.6563"/><polygon fill="#181818" points="501.4595,373.6563,491.4595,377.6563,501.4595,381.6563,497.4595,377.6563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.832" x="497.4595" y="359.5903">validatePhoneNumber()</text></g><g class="message" data-participant-1="Valid" data-participant-2="RegCtrl"><polygon fill="#181818" points="270.8198,402.7891,260.8198,406.7891,270.8198,410.7891,266.8198,406.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="264.8198" x2="484.4595" y1="406.7891" y2="406.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.7554" x="320.262" y="401.7231">validationResult</text></g><path d="M10,421.7891 L74.4429,421.7891 L74.4429,428.9219 L64.4429,438.9219 L10,438.9219 L10,421.7891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1129.5859" style="stroke:#000000;stroke-width:1.5;" width="1780.6318" x="10" y="421.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="434.856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85.0513" x="89.4429" y="433.9995">[Data Invalid]</text><g class="message" data-participant-1="RegCtrl" data-participant-2="User"><polygon fill="#181818" points="59.9551,471.1875,49.9551,475.1875,59.9551,479.1875,55.9551,475.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="53.9551" x2="248.8198" y1="475.1875" y2="475.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.4097" x="71.6826" y="454.9888">displayValidationErrors(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.8306" x="127.4722" y="470.1216">errors)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1790.6318" y1="484.1875" y2="484.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="74.4702" x="15" y="494.3979">[Data Valid]</text><g class="message" data-participant-1="RegCtrl" data-participant-2="UserModel"><polygon fill="#181818" points="862.4434,515.125,872.4434,519.125,862.4434,523.125,866.4434,519.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="259.8198" x2="868.4434" y1="519.125" y2="519.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.2852" x="487.989" y="514.0591">checkEmailExists(email)</text></g><g class="message" data-participant-1="UserModel" data-participant-2="DB"><polygon fill="#181818" points="1091.604,559.3906,1101.604,563.3906,1091.604,567.3906,1095.604,563.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="884.4434" x2="1097.604" y1="563.3906" y2="563.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.9243" x="923.5615" y="543.1919">SELECT * FROM users</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.1309" x="936.9583" y="558.3247">WHERE email = ?</text></g><g class="message" data-participant-1="DB" data-participant-2="UserModel"><polygon fill="#181818" points="895.4434,588.5234,885.4434,592.5234,895.4434,596.5234,891.4434,592.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="889.4434" x2="1107.604" y1="592.5234" y2="592.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.2793" x="957.384" y="587.4575">queryResult</text></g><g class="message" data-participant-1="UserModel" data-participant-2="RegCtrl"><polygon fill="#181818" points="270.8198,617.6563,260.8198,621.6563,270.8198,625.6563,266.8198,621.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="264.8198" x2="878.4434" y1="621.6563" y2="621.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.0137" x="532.6248" y="616.5903">emailExists</text></g><path d="M20,636.6563 L84.4429,636.6563 L84.4429,643.7891 L74.4429,653.7891 L20,653.7891 L20,636.6563" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="907.7188" style="stroke:#000000;stroke-width:1.5;" width="1760.6318" x="20" y="636.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="649.7231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136.0229" x="99.4429" y="648.8667">[Email Already Exists]</text><g class="message" data-participant-1="RegCtrl" data-participant-2="User"><polygon fill="#181818" points="59.9551,686.0547,49.9551,690.0547,59.9551,694.0547,55.9551,690.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="53.9551" x2="248.8198" y1="690.0547" y2="690.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.4336" x="107.6707" y="669.856">displayError(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.8647" x="60.9551" y="684.9888">"Email already registered")</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="20" x2="1780.6318" y1="699.0547" y2="699.0547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104.9995" x="25" y="709.2651">[Email Available]</text><g class="message" data-participant-1="RegCtrl" data-participant-2="Sec"><polygon fill="#181818" points="682.8535,729.9922,692.8535,733.9922,682.8535,737.9922,686.8535,733.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="259.8198" x2="688.8535" y1="733.9922" y2="733.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.8423" x="394.9155" y="728.9263">hashPassword(password)</text></g><g class="message" data-participant-1="Sec" data-participant-2="Sec"><line style="stroke:#181818;stroke-width:1;" x1="704.8535" x2="746.8535" y1="763.125" y2="763.125"/><line style="stroke:#181818;stroke-width:1;" x1="746.8535" x2="746.8535" y1="763.125" y2="776.125"/><line style="stroke:#181818;stroke-width:1;" x1="705.8535" x2="746.8535" y1="776.125" y2="776.125"/><polygon fill="#181818" points="715.8535,772.125,705.8535,776.125,715.8535,780.125,711.8535,776.125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.5898" x="711.8535" y="758.0591">bcrypt(password, salt)</text></g><g class="message" data-participant-1="Sec" data-participant-2="RegCtrl"><polygon fill="#181818" points="270.8198,801.2578,260.8198,805.2578,270.8198,809.2578,266.8198,805.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="264.8198" x2="698.8535" y1="805.2578" y2="805.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.7007" x="432.4863" y="800.1919">passwordHash</text></g><g class="message" data-participant-1="RegCtrl" data-participant-2="UserModel"><polygon fill="#181818" points="862.4434,875.7891,872.4434,879.7891,862.4434,883.7891,866.4434,879.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="259.8198" x2="868.4434" y1="879.7891" y2="879.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.2544" x="529.0044" y="829.3247">createUser(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.9492" x="495.657" y="844.4575">email, passwordHash,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.6934" x="485.2849" y="859.5903">fullName, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.1597" x="530.0518" y="874.7231">nationality)</text></g><g class="message" data-participant-1="UserModel" data-participant-2="DB"><polygon fill="#181818" points="1091.604,995.7188,1101.604,999.7188,1091.604,1003.7188,1095.604,999.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="884.4434" x2="1097.604" y1="999.7188" y2="999.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1226" x="932.9624" y="903.856">INSERT INTO users</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.9849" x="917.5313" y="918.9888">(email, password_hash,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.7227" x="907.1624" y="934.1216">full_name, phone_number,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.7212" x="904.1631" y="949.2544">nationality, account_status,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.5376" x="911.7549" y="964.3872">user_role, email_verified)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.1606" x="893.9434" y="979.52">VALUES (?, ?, ?, ?, ?, 'pending',</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4951" x="948.2761" y="994.6528">'visitor', false)</text></g><g class="message" data-participant-1="DB" data-participant-2="UserModel"><polygon fill="#181818" points="895.4434,1024.8516,885.4434,1028.8516,895.4434,1032.8516,891.4434,1028.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="889.4434" x2="1107.604" y1="1028.8516" y2="1028.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4409" x="976.3032" y="1023.7856">userId</text></g><g class="message" data-participant-1="UserModel" data-participant-2="RegCtrl"><polygon fill="#181818" points="270.8198,1053.9844,260.8198,1057.9844,270.8198,1061.9844,266.8198,1057.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="264.8198" x2="878.4434" y1="1057.9844" y2="1057.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.5005" x="541.3813" y="1052.9185">newUser</text></g><g class="message" data-participant-1="RegCtrl" data-participant-2="Token"><polygon fill="#181818" points="1345.8125,1083.1172,1355.8125,1087.1172,1345.8125,1091.1172,1349.8125,1087.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="259.8198" x2="1351.8125" y1="1087.1172" y2="1087.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.1899" x="697.2212" y="1082.0513">generateVerificationToken(userId)</text></g><g class="message" data-participant-1="Token" data-participant-2="Token"><line style="stroke:#181818;stroke-width:1;" x1="1367.8125" x2="1409.8125" y1="1116.25" y2="1116.25"/><line style="stroke:#181818;stroke-width:1;" x1="1409.8125" x2="1409.8125" y1="1116.25" y2="1129.25"/><line style="stroke:#181818;stroke-width:1;" x1="1368.8125" x2="1409.8125" y1="1129.25" y2="1129.25"/><polygon fill="#181818" points="1378.8125,1125.25,1368.8125,1129.25,1378.8125,1133.25,1374.8125,1129.25" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.2188" x="1374.8125" y="1111.1841">generateSecureToken(32)</text></g><g class="message" data-participant-1="Token" data-participant-2="DB"><polygon fill="#181818" points="1124.604,1214.9141,1114.604,1218.9141,1124.604,1222.9141,1120.604,1218.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1118.604" x2="1356.8125" y1="1218.9141" y2="1218.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.8623" x="1194.2771" y="1153.3169">INSERT INTO</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.293" x="1153.0618" y="1168.4497">email_verification_tokens</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.0039" x="1185.2063" y="1183.5825">(user_id, token,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.4624" x="1161.9771" y="1198.7153">expiration_timestamp)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.2085" x="1123.104" y="1213.8481">VALUES (?, ?, NOW() + 24 HOURS)</text></g><g class="message" data-participant-1="DB" data-participant-2="Token"><polygon fill="#181818" points="1345.8125,1244.0469,1355.8125,1248.0469,1345.8125,1252.0469,1349.8125,1248.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1108.604" x2="1351.8125" y1="1248.0469" y2="1248.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.8511" x="1207.7827" y="1242.981">success</text></g><g class="message" data-participant-1="Token" data-participant-2="RegCtrl"><polygon fill="#181818" points="270.8198,1273.1797,260.8198,1277.1797,270.8198,1281.1797,266.8198,1277.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="264.8198" x2="1361.8125" y1="1277.1797" y2="1277.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.5122" x="755.0601" y="1272.1138">verificationToken</text></g><g class="message" data-participant-1="RegCtrl" data-participant-2="Email"><polygon fill="#181818" points="1550.0313,1317.4453,1560.0313,1321.4453,1550.0313,1325.4453,1554.0313,1321.4453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="259.8198" x2="1556.0313" y1="1321.4453" y2="1321.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.4531" x="837.699" y="1301.2466">sendVerificationEmail(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.7002" x="830.0754" y="1316.3794">email, verificationToken)</text></g><g class="message" data-participant-1="Email" data-participant-2="Email"><line style="stroke:#181818;stroke-width:1;" x1="1572.0313" x2="1614.0313" y1="1350.5781" y2="1350.5781"/><line style="stroke:#181818;stroke-width:1;" x1="1614.0313" x2="1614.0313" y1="1350.5781" y2="1363.5781"/><line style="stroke:#181818;stroke-width:1;" x1="1573.0313" x2="1614.0313" y1="1363.5781" y2="1363.5781"/><polygon fill="#181818" points="1583.0313,1359.5781,1573.0313,1363.5781,1583.0313,1367.5781,1579.0313,1363.5781" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.6006" x="1579.0313" y="1345.5122">buildVerificationLink(token)</text></g><g class="message" data-participant-1="Email" data-participant-2="Email"><line style="stroke:#181818;stroke-width:1;" x1="1572.0313" x2="1614.0313" y1="1407.8438" y2="1407.8438"/><line style="stroke:#181818;stroke-width:1;" x1="1614.0313" x2="1614.0313" y1="1407.8438" y2="1420.8438"/><line style="stroke:#181818;stroke-width:1;" x1="1573.0313" x2="1614.0313" y1="1420.8438" y2="1420.8438"/><polygon fill="#181818" points="1583.0313,1416.8438,1573.0313,1420.8438,1583.0313,1424.8438,1579.0313,1420.8438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.8804" x="1591.022" y="1387.645">composeEmail(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.8618" x="1579.0313" y="1402.7778">subject, body, link)</text></g><g class="message" data-participant-1="Email" data-participant-2="Email"><line style="stroke:#181818;stroke-width:1;" x1="1572.0313" x2="1614.0313" y1="1449.9766" y2="1449.9766"/><line style="stroke:#181818;stroke-width:1;" x1="1614.0313" x2="1614.0313" y1="1449.9766" y2="1462.9766"/><line style="stroke:#181818;stroke-width:1;" x1="1573.0313" x2="1614.0313" y1="1462.9766" y2="1462.9766"/><polygon fill="#181818" points="1583.0313,1458.9766,1573.0313,1462.9766,1583.0313,1466.9766,1579.0313,1462.9766" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.6543" x="1579.0313" y="1444.9106">sendSMTP()</text></g><g class="message" data-participant-1="Email" data-participant-2="RegCtrl"><polygon fill="#181818" points="270.8198,1488.1094,260.8198,1492.1094,270.8198,1496.1094,266.8198,1492.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="264.8198" x2="1566.0313" y1="1492.1094" y2="1492.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.438" x="880.7065" y="1487.0435">emailSent</text></g><g class="message" data-participant-1="RegCtrl" data-participant-2="User"><polygon fill="#181818" points="59.9551,1532.375,49.9551,1536.375,59.9551,1540.375,55.9551,1536.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="53.9551" x2="248.8198" y1="1536.375" y2="1536.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.562" x="97.6064" y="1516.1763">displaySuccess(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.3062" x="67.7344" y="1531.3091">"Verification email sent")</text></g><!--SRC=[ZLR9RkCu4BthAmgvHFPuWEdbP63IY1Db4Y0RBCTzCM3GKhND3arfICg9_twAr4PPwlG4YMEHhvRtgbYKVkKoPuhjGUE_1Se47r1hjiLBmRSI4fG6LQ0Rb4ATPrBNg1cAxErIgUmDZ2hG0ywozsUMfbnkuTDVGM2u4GZZyOj61NFSScqKCpoJyAooX9oDnq704fCfEBEOCs0Qx9U0t1cUy9n90sU-vKfUPTAeJ8WAJfjNHecknP89dZBowo3kgGk8CIaKDqUtJm_TNPl2IZvaAOec9VVKXLqpmpPCeyDSpxgRY-mLATj_KA9gCd6BNLoqProiP8pgm9FIbLiA0gVQdnSrmodeOhFdnbVZ9bFxS2NH6amWPrg_PIgTm8z2Y4UsnybAvhjCucEntw2QW7HM98SvZgpm_C0CDX86rHSRr6asXKCf9Ff1BUsG5fddefJOVNhMoGwJrpcr65UOtd0KgGv7FLGTmz6sZ9Zv0FLSaOoDGharku-WBVKMvGjQ0OdJ77KXJ93Y2QE02GEMCDn9Xmw0VXgTo9cjqXHIhdF1Zil6OKJ7GsbR6_Tb5A3GM7fQzlrSj2rMgUR4YDv9T1swyewSHPDUsv9skNcohgvdKuYZ- -Xg0MEucJyzG47RUYM_tqRp29mt-1k-THrI_zhdwrd3gag71eGwLlfOXATHPUD5zzN5biAfOJVxCX4Isf66Iw6GfKVmJ3yKtKbDIfT7YHoLvigrB5BddPNQkGfK8GxqoJO2-zulx3YOmexfNTrgONsmHWsyOM9dHxr8tnlxJQAEkGdR8wc9uAWBzSMgWRSKjq5vYlbnXfBs-uVu6xGB_T5WtTDGQEO3-EDX9JlpeSUrMxN1lhjxZAFvWlujdkgk2qzIME_Q7DQoJM8j1xAOKFGaAwHPQyDCeMdNkbtJ1K1splFwW8h_u9YELd9vUVyInH1-cu3_UvwZj9VIEPcV7xZcD8_FQKeoweW1dbLR3ny76_uk7IgHP_QB4o7npTrk0yPzROUgxEwFAMpBImMNZddYv79ROPdT0AVovgcNtTE0GtSjOkdgo-TH7tzIuwg_gXAKYQoD1Tl2kqfnwdstGjhZUyvL1U9xf9BkyrxL7f- -XoFu0pv_XTkdbtdylmfKyT15ObyhVbETYatd9ZXLSiX5TsEeFcwwK1hKRdvjt79x67l11YYMxm3rSZcrsW2RWejEX7ikNqFJzNLgb6JxFDDO9qDl4pynCHFOP2cTCq4UVcrh6SKFY-Um1-bD_9ZU7eVKwpBw_LYForhQmUuphUulIiZKSrscWVtpObLE_mC0]--></g></svg>